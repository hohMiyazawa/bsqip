function bsqip_decode(b){let w=(b[0]<<8)+b[1]+1;let h=(b[2]<<8)+b[3]+1;function r(y){return "rgb("+((y[0]>>3)*255/31)+","+((((y[0]%8)<<3)+(y[1]>>5))*255/63)+","+((y[1]%32)*255/31)+")"}let l=[];for(let i=8;i+8<b.length;i+=8){l.push(`<polygon fill="${r([b[i],b[i+1]])}" fill-opacity="${(b[5]+1)/256}" points="${b[i+2]-63},${b[i+3]-63} ${b[i+4]-63},${b[i+5]-63} ${b[i+6]-63},${b[i+7]-63}" />`)}return `<svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="${w}" height="${h}"><rect x="0" y="0" width="${w}" height="${h}" fill="${r([b[6],b[8]])}"/><g transform="scale(${w/128}) translate(0.5 0.5)">${l.join()}</g></svg>`}
